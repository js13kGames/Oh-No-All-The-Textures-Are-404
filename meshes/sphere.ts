import {Mesh} from "../common/material.js";
import {GL_ARRAY_BUFFER, GL_ELEMENT_ARRAY_BUFFER, GL_STATIC_DRAW} from "../common/webgl.js";

export function mesh_sphere(gl: WebGLRenderingContext): Mesh {
    let vertex_buf = gl.createBuffer()!;
    gl.bindBuffer(GL_ARRAY_BUFFER, vertex_buf);
    gl.bufferData(GL_ARRAY_BUFFER, vertex_arr, GL_STATIC_DRAW);

    let normal_buf = gl.createBuffer()!;
    gl.bindBuffer(GL_ARRAY_BUFFER, normal_buf);
    gl.bufferData(GL_ARRAY_BUFFER, normal_arr, GL_STATIC_DRAW);

    let texcoord_buf = gl.createBuffer()!;
    gl.bindBuffer(GL_ARRAY_BUFFER, texcoord_buf);
    gl.bufferData(GL_ARRAY_BUFFER, texcoord_arr, GL_STATIC_DRAW);

    let index_buf = gl.createBuffer()!;
    gl.bindBuffer(GL_ELEMENT_ARRAY_BUFFER, index_buf);
    gl.bufferData(GL_ELEMENT_ARRAY_BUFFER, index_arr, GL_STATIC_DRAW);

    return {
        VertexBuffer: vertex_buf,
        VertexArray: vertex_arr,
        NormalBuffer: normal_buf,
        TexCoordBuffer: texcoord_buf,
        IndexBuffer: index_buf,
        IndexArray: index_arr,
        IndexCount: index_arr.length,
    };
}

// prettier-ignore
let vertex_arr = Float32Array.from([
    0, -0.4, 0,
    0.3618, -0.223607, 0.26286,
    -0.138193, -0.223607, 0.42532,
    0.3618, -0.223607, 0.26286,
    0, -0.4, 0,
    0.3618, -0.223607, -0.26286,
    0, -0.4, 0,
    -0.138193, -0.223607, 0.42532,
    -0.447212, -0.223607, 0,
    0, -0.4, 0,
    -0.447212, -0.223607, 0,
    -0.138193, -0.223607, -0.42532,
    0, -0.4, 0,
    -0.138193, -0.223607, -0.42532,
    0.3618, -0.223607, -0.26286,
    0.447212, 0.223607, 0,
    -0.138193, -0.223607, 0.42532,
    0.138193, 0.223607, 0.42532,
    -0.138193, -0.223607, 0.42532,
    -0.3618, 0.223607, 0.26286,
    -0.138193, -0.223607, -0.42532,
    -0.3618, 0.223607, -0.26286,
    -0.138193, -0.223607, -0.42532,
    0.138193, 0.223607, -0.42532,
    0.138193, 0.223607, 0.42532,
    -0.138193, -0.223607, 0.42532,
    0.138193, 0.223607, 0.42532,
    -0.3618, 0.223607, 0.26286,
    -0.138193, -0.223607, -0.42532,
    0.138193, 0.223607, -0.42532,
    0.138193, 0.223607, -0.42532,
    0.138193, 0.223607, 0.42532,
    0, 0.4, 0,
    0.138193, 0.223607, 0.42532,
    0, 0.4, 0,
    0, 0.4, 0,
    0.138193, 0.223607, -0.42532,
    0, 0.4, 0,
    0.138193, 0.223607, -0.42532,
    0, 0.4, 0
]);

// prettier-ignore
let normal_arr = Float32Array.from([
    0, -1, 0,
    0.6989, -0.5036, 0.5078,
    -0.2669, -0.5036, 0.8216,
    0.6989, -0.5036, 0.5078,
    0, -1, 0,
    0.6989, -0.5036, -0.5078,
    0, -1, 0,
    -0.2669, -0.5036, 0.8216,
    -0.8639, -0.5036, 0,
    0, -1, 0,
    -0.8639, -0.5036, 0,
    -0.2669, -0.5036, -0.8216,
    0, -1, 0,
    -0.2669, -0.5036, -0.8216,
    0.6989, -0.5036, -0.5078,
    0.8639, 0.5036, 0,
    -0.2669, -0.5036, 0.8216,
    0.2669, 0.5036, 0.8216,
    -0.2669, -0.5036, 0.8216,
    -0.6989, 0.5036, 0.5078,
    -0.2669, -0.5036, -0.8216,
    -0.6989, 0.5036, -0.5078,
    -0.2669, -0.5036, -0.8216,
    0.2669, 0.5036, -0.8216,
    0.2669, 0.5036, 0.8216,
    -0.2669, -0.5036, 0.8216,
    0.2669, 0.5036, 0.8216,
    -0.6989, 0.5036, 0.5078,
    -0.2669, -0.5036, -0.8216,
    0.2669, 0.5036, -0.8216,
    0.2669, 0.5036, -0.8216,
    0.2669, 0.5036, 0.8216,
    0, 1, 0,
    0.2669, 0.5036, 0.8216,
    0, 1, 0,
    0, 1, 0,
    0.2669, 0.5036, -0.8216,
    0, 1, 0,
    0.2669, 0.5036, -0.8216,
    0, 1, 0
]);

// prettier-ignore
let texcoord_arr = Float32Array.from([
    0.818181, 0,
    0.727272, 0.157461,
    0.90909, 0.157461,
    0.727272, 0.157461,
    0.636363, 0,
    0.545454, 0.157461,
    0.090909, 0,
    0, 0.157461,
    0.181818, 0.157461,
    0.272727, 0,
    0.181818, 0.157461,
    0.363636, 0.157461,
    0.454545, 0,
    0.363636, 0.157461,
    0.545454, 0.157461,
    0.636363, 0.314921,
    0.90909, 0.157461,
    0.818181, 0.314921,
    0, 0.157461,
    0.090909, 0.314921,
    0.363636, 0.157461,
    0.272727, 0.314921,
    0.363636, 0.157461,
    0.454545, 0.314921,
    0.818181, 0.314921,
    0.90909, 0.157461,
    0.818181, 0.314921,
    1, 0.314921,
    0.363636, 0.157461,
    0.454545, 0.314921,
    0.454545, 0.314921,
    0.818181, 0.314921,
    0.727272, 0.472382,
    0.818181, 0.314921,
    0.90909, 0.472382,
    0.181818, 0.472382,
    0.454545, 0.314921,
    0.363636, 0.472382,
    0.454545, 0.314921,
    0.545454, 0.472382
]);

// prettier-ignore
let index_arr = Uint16Array.from([
    34, 33, 27,
    27, 26, 25,
    14, 13, 12,
    11, 10, 9,
    37, 21, 36,
    29, 21, 28,
    35, 19, 21,
    21, 19, 8,
    21, 8, 20,
    19, 18, 8,
    8, 7, 6,
    39, 38, 15,
    32, 15, 31,
    15, 30, 5,
    23, 22, 5,
    5, 4, 3,
    24, 15, 1,
    17, 1, 16,
    15, 5, 1,
    2, 1, 0
]);
